{
  "info": {
    "name": "Microservices API Collection",
    "description": "API collection for Spring Boot Microservices: Auth, Department, Employee",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth Service",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"testuser\",\n  \"password\": \"password123\",\n  \"email\": \"test@example.com\"\n}"
            },
            "url": {
              "raw": "http://localhost:9191/auth/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"testuser\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:9191/auth/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Validate Token",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/auth/validate",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["auth", "validate"]
            }
          }
        }
      ]
    },
    {
      "name": "Department Service",
      "item": [
        {
          "name": "Create Department",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"deptName\": \"HR\",\n  \"deptDescription\": \"Human Resources Department\"\n}"
            },
            "url": {
              "raw": "http://localhost:9191/deptservice/departments",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["deptservice", "departments"]
            }
          }
        },
        {
          "name": "Get All Departments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/deptservice/departments",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["deptservice", "departments"]
            }
          }
        },
        {
          "name": "Get Department by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/deptservice/departments/{{dept_id}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["deptservice", "departments", "{{dept_id}}"]
            }
          }
        },
        {
          "name": "Get Department with Employees",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/deptservice/departments/{{dept_id}}/with-employees",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["deptservice", "departments", "{{dept_id}}", "with-employees"]
            }
          }
        },
        {
          "name": "Update Employee Department",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/deptservice/departments/update-employee-department?empId={{emp_id}}&deptId={{dept_id}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["deptservice", "departments", "update-employee-department"],
              "query": [
                {
                  "key": "empId",
                  "value": "{{emp_id}}"
                },
                {
                  "key": "deptId",
                  "value": "{{dept_id}}"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Employee Service",
      "item": [
        {
          "name": "Create Employee",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"empName\": \"John Doe\",\n  \"empEmail\": \"john@example.com\",\n  \"salary\": 50000.0,\n  \"deptId\": 1\n}"
            },
            "url": {
              "raw": "http://localhost:9191/empservice/employees",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["empservice", "employees"]
            }
          }
        },
        {
          "name": "Get All Employees",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/empservice/employees",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["empservice", "employees"]
            }
          }
        },
        {
          "name": "Get Employee by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/empservice/employees/{{emp_id}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["empservice", "employees", "{{emp_id}}"]
            }
          }
        },
        {
          "name": "Get Employees by Department",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/empservice/employees/department/{{dept_id}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["empservice", "employees", "department", "{{dept_id}}"]
            }
          }
        },
        {
          "name": "Update Employee Department",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9191/empservice/employees/{{emp_id}}/department/{{dept_id}}",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9191",
              "path": ["empservice", "employees", "{{emp_id}}", "department", "{{dept_id}}"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "jwt_token",
      "value": ""
    },
    {
      "key": "dept_id",
      "value": "1"
    },
    {
      "key": "emp_id",
      "value": "1"
    }
  ]
}
